@namespace PlannerApp.Components

<MudText Typo="Typo.h6">Create new plan</MudText>

<EditForm Model="_planDetail" OnValidSubmit="SubmitFormAsync">
    <FluentValidationValidator/>
    <MudTextField Label="Title" HelperText="Required" @bind-Value="@_planDetail.Title" Variant="Variant.Outlined" />
    <MudTextField Label="Description" Lines="4" HelperText="Optional" @bind-Value="@_planDetail.Description" Variant="Variant.Outlined"/>

    @* <InputFile id="fileInput" OnChange="OnChooseFileAsync" hidden multiple /> *@
    <MudFab HtmlTag="label"
            Color="Color.Secondary"
            Icon="@Icons.Material.Filled.Image"
            Label="Load picture"
            for="@context" />

    @if (_stream is not null)
    {
        <MudText Typo="Typo.subtitle2">@_fileName</MudText>
    }
    @if (!string.IsNullOrWhiteSpace(_errorMessage))
    {
        <MudAlert Severity="Severity.Error" Variant="Variant.Filled" Class="my-2">@_errorMessage</MudAlert>
    }

    <MudDivider DividerType="DividerType.FullWidth" Class="my-2"/>
    <ValidationSummary />
    <MudButton Color="Color.Primary" Variant="Variant.Filled" ButtonType="ButtonType.Submit" FullWidth="true">Save</MudButton>

</EditForm>
