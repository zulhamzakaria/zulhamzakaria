@namespace PlannerApp.Components

<MudDialog>
    <TitleContent>
        @if (_isBusy)
        {
            <MudText Typo="Typo.h6">
                <text>Loading...</text>
            </MudText>
        }
        else
        {
            <MudText Typo="Typo.h6">
                @_planDetail?.Title
            </MudText>
        }
    </TitleContent>
    <DialogContent>
        <MudGrid>
            <MudItem sm="12" md="5">
                @if (_isBusy)
                {
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Rectangle" Height="40px"
                                 Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text"
                                 Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text"
                                 Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text"
                                 Style="min-width:250px" />
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text"
                                 Style="min-width:250px" />
                }
                else
                {
                    <CreateToDoItemsForm PlanId="@PlanId" OnToDoItemAdded="OnToDoItemAddedCallback" />
                    @foreach(var item in _toDoItems)
                    {
                        <ToDoItems ToDoItem="item"/>
                    }
                }
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>

